{"version":3,"sources":["components/Apartments/Apartments.module.scss","components/Header/Header.module.scss","components/Spinner/Spinner.module.scss","components/SingleApartment/SingleApartment.module.scss","mock/images.ts","assets/image_1.jpg","assets/image_2.jpg","assets/image_3.jpg","store/apartmentsSlice.ts","store/store.ts","hooks/storeHooks.ts","utils/dataFormatters.ts","components/SingleApartment/SingleApartment.tsx","components/Apartments/Apartments.tsx","components/Header/Header.tsx","components/Spinner/Spinner.tsx","components/App/App.tsx","index.tsx"],"names":["module","exports","images","loadInitialData","createAsyncThunk","a","Promise","resolve","setTimeout","response","entities","reduce","red","el","concat","image","id","favorites","apartmentSlice","createSlice","name","initialState","items","loading","reducers","toggleFavorites","state","action","apartment","find","payload","extraReducers","builder","addCase","pending","_","fulfilled","actions","store","configureStore","reducer","apartmentsReducer","useAppSelector","useSelector","cityMap","Tyumen","formatAddress","city","street","house","room","formatName","first_name","middle_name","last_name","SingleApartment","item","onFavorite","className","styles","apartments__item","apartments__image","alt","attributes","title","src","type","onClick","apartments__star","apartments__star_filled","apartments__star_empty","apartments__title","apartments__description","apartments__info","address","rooms","area","apartments__agent","relationships","Apartments","container","apartments","map","Header","header","header__title","Spinner","loader","App","dispatch","useDispatch","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d97042f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"apartments\":\"Apartments_apartments__2I2PM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2RCl5\",\"header__title\":\"Header_header__title__1LT5g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__dV5JL\",\"load2\":\"Spinner_load2__3UvOX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"apartments__item\":\"SingleApartment_apartments__item__K7LIM\",\"apartments__image\":\"SingleApartment_apartments__image__15NIa\",\"apartments__star\":\"SingleApartment_apartments__star__14Gqq\",\"apartments__star_empty\":\"SingleApartment_apartments__star_empty__2Bz6-\",\"apartments__star_filled\":\"SingleApartment_apartments__star_filled__2h2au\",\"apartments__title\":\"SingleApartment_apartments__title__2i6JT\",\"apartments__description\":\"SingleApartment_apartments__description__2L4Re\",\"apartments__info\":\"SingleApartment_apartments__info__CfLko\",\"apartments__agent\":\"SingleApartment_apartments__agent__-OKEF\"};","import image1 from 'assets/image_1.jpg';\nimport image2 from 'assets/image_2.jpg';\nimport image3 from 'assets/image_3.jpg';\n\nconst images = [image1, image2, image3];\n\nexport default images;\n","export default __webpack_public_path__ + \"static/media/image_1.29dd31ec.jpg\";","export default __webpack_public_path__ + \"static/media/image_2.305ae742.jpg\";","export default __webpack_public_path__ + \"static/media/image_3.680d15ea.jpg\";","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Apartment, ApartmentsState } from '../types/types';\n\nimport entities from 'mock/entities.json';\nimport images from 'mock/images';\n\nconst initialState: ApartmentsState = {\n  items: [],\n  loading: false,\n};\n\nconst loadInitialData = createAsyncThunk('apartments/fetchAll', async () => {\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  const response = entities.response;\n  return response.reduce((red: Apartment[], el) => {\n    return red.concat({ ...el, image: images[el.id - 1], favorites: false });\n  }, []);\n});\n\nconst apartmentSlice = createSlice({\n  name: 'apartments',\n  initialState,\n  reducers: {\n    toggleFavorites(state, action: PayloadAction<number>) {\n      const apartment = state.items.find((el) => el.id === action.payload);\n      if (apartment) apartment.favorites = !apartment.favorites;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadInitialData.pending, (state, _) => {\n        state.loading = true;\n      })\n      .addCase(loadInitialData.fulfilled, (state, action) => {\n        state.items = action.payload;\n        state.loading = false;\n      });\n  },\n});\n\nexport default apartmentSlice.reducer;\n\nexport const { toggleFavorites } = apartmentSlice.actions;\nexport { loadInitialData };\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport apartmentsReducer from './apartmentsSlice'\n\nconst store = configureStore({\n  reducer: apartmentsReducer,\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n\nexport { toggleFavorites, loadInitialData } from './apartmentsSlice';\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from 'store/store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","const cityMap: { [key: string]: string } = {\n  Tyumen: 'Тюмень',\n};\n\ntype Address = {\n  city: string;\n  street: string;\n  house: string;\n  room: string;\n};\n\ntype FullName = {\n  first_name: string;\n  middle_name: string;\n  last_name: string;\n};\n\nconst formatAddress = ({ city, street, house, room }: Address) => {\n  return `${cityMap[city]}, ${street} ул., ${house}, кв. ${room}`;\n};\n\nconst formatName = ({ first_name, middle_name, last_name }: FullName) => {\n  return `${last_name} ${first_name} ${middle_name}`;\n};\n\nexport { formatAddress, formatName };\n","import { Apartment } from 'types/types';\nimport { formatAddress, formatName } from 'utils/dataFormatters';\n\nimport styles from './SingleApartment.module.scss';\n\ntype Props = {\n  item: Apartment;\n  onFavorite: (id: number) => void;\n};\n\nconst SingleApartment = ({ item, onFavorite }: Props) => {\n  const handleStarClick = () => {\n    onFavorite(item.id);\n  }\n\n  return (\n    <li className={styles.apartments__item}>\n      <img\n        className={styles.apartments__image}\n        alt={item.attributes.title}\n        src={item.image}\n      />\n      <button\n        type=\"button\"\n        onClick={handleStarClick}\n        className={`${styles.apartments__star} ${\n          item.favorites\n            ? styles.apartments__star_filled\n            : styles.apartments__star_empty\n        }`}\n      />\n      <h2 className={styles.apartments__title}>{item.attributes.title}</h2>\n      <div className={styles.apartments__description}>\n        <ul>\n          <li className={styles.apartments__info}>\n            <strong>Адрес:</strong>{' '}\n            {formatAddress(item.attributes.address)}\n          </li>\n          <li className={styles.apartments__info}>\n            <strong>Комнат:</strong> {item.attributes.rooms}\n          </li>\n          <li className={styles.apartments__info}>\n            <strong>Площадь:</strong> {item.attributes.area} м&sup2;\n          </li>\n          <li className={styles.apartments__agent}>\n            <strong>Агент:</strong>{' '}\n            {formatName(item.relationships.attributes)}\n          </li>\n        </ul>\n      </div>\n    </li>\n  );\n};\n\nexport default SingleApartment;\n","import { Apartment } from 'types/types';\n\nimport SingleApartment from 'components/SingleApartment/SingleApartment';\n\nimport styles from './Apartments.module.scss';\n\ntype Props = {\n  items: Apartment[];\n  onFavorite: (id: number) => void;\n};\n\nconst Apartments = ({ items, onFavorite }: Props) => {\n  return (\n    <main className={styles.container}>\n      <ul className={styles.apartments}>\n        {items.map((el) => (\n          <SingleApartment key={el.id} item={el} onFavorite={onFavorite} />\n        ))}\n      </ul>\n    </main>\n  );\n};\n\nexport default Apartments;\n","import styles from './Header.module.scss';\n\nconst Header = () => (\n  <header className={styles.header}>\n    <h1 className={styles.header__title}>Smooth Apartments</h1>\n  </header>\n);\n\nexport default Header;\n","import React, { FC } from 'react';\n\nimport styles from './Spinner.module.scss';\n\nconst Spinner: FC = () => (\n  <div className={styles.loader}>Loading...</div>\n);\n\nexport default Spinner;\n","import { useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from 'hooks/storeHooks';\n\nimport Apartments from 'components/Apartments/Apartments';\nimport Header from 'components/Header/Header';\nimport { toggleFavorites, loadInitialData } from 'store/store';\nimport Spinner from 'components/Spinner/Spinner';\n\nfunction App() {\n  const apartments = useAppSelector((state) => state.items);\n  const loading = useAppSelector((state) => state.loading);\n  const dispatch = useAppDispatch();\n\n  const handleFavorite = (id: number) => {\n    dispatch(toggleFavorites(id));\n  }\n\n  useEffect(() => {\n    dispatch(loadInitialData());\n  }, [dispatch])\n\n  return (\n    <>\n      <Header />\n      {loading ? (\n        <Spinner />\n      ) : (\n        <Apartments\n          items={apartments}\n          onFavorite={handleFavorite}\n        />\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from 'store/store';\n\nimport App from 'components/App/App';\nimport 'styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}